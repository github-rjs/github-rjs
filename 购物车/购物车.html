<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>购物车</title>
    <style>
        html,body,table,th,tr,td,span,i,input,p,img,button,ul,li{margin:0;padding:0;}
        i{font-style: normal}
        ul{list-style:none;}
        table{margin:20px auto;font-size:12px}
        th{font-weight:normal;height:42px;line-height:42px;background:#f3f3f3;border-top:1px solid #e9e9e9;
        padding:0 10px;text-align:left;color:#666;border-bottom:1px solid #e9e9e9;}
        th input{position:relative;top:2px;margin-right:6px}
        td{padding:10px;color:#333;border-bottom:1px solid #f1f1f1;font-size:12px}
        td img{float:left;margin-left:-20px;}
        td .cla{float:left;width:210px;height:30px;overflow:hidden;;}
        td i{float:left;margin-left:15px;color:#777}
        .align{text-align:center;}
        .inpu{width:44px;height:20px;border:1px solid #ccc;border-left:0;border-right:0;text-align:center;}
        td button{width:16px;height:22px;background:#fff;border:1px solid #ccc;text-align:center;}
        .zhong,.zhongjia{font-weight:bold;color:red;margin:0 3px;}
    </style>
</head>
<body>
    <table width="990" cellpadding="0" cellspacing="0" align="center" border="0">
        <tr>
            <th width="80"><input type="checkbox" checked>全选</th>
            <th>商品</th>
            <th width="100" class="align">单价</th>
            <th width="100" class="align">数量</th>
            <th width="100" class="align">小计</th>
            <th width="100">操作</th>
        </tr>
        <tr>
            <td><input type="checkbox" class="trinput" checked></td>
            <td><img src="images/c1.jpg"><span class="cla">【工厂直供】【超值抢购】秋冬新品潮
                流时尚双肩包 简约百搭黑色休闲旅游双肩背包</span><i>颜色：18800</i>
                </td>
            <td class="align">￥<span>49.00</span></td>
            <td class="align"><button class="jian">-</button><input type="text" value="1" class="inpu">
                <button class="jia">+</button></td>
            <td class="align"><b>￥<span class="zj">49.00</span></b></td>
            <td>
                <ul>
                    <li>删除</li>
                    <li>移到我的关注</li>
                    <li>加到我的关注</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><input type="checkbox" class="trinput" checked></td>
            <td><img src="images/c2.jpg"><span class="cla">【超值疯抢 耐磨耐刮】VEND潮流时尚
                经典帆布双肩包女包 大容量学生书包休闲旅游背包女士包包 18334白色</span><i>颜色：18334</i>
                </td>
            <td class="align">￥<span>79.00</span></td>
            <td class="align"><button class="jian">-</button><input type="text" value="1" class="inpu">
                <button class="jia">+</button></td>
            <td class="align"><b>￥<span class="zj">79.00</span></b></td>
            <td>
                <ul>
                    <li>删除</li>
                    <li>移到我的关注</li>
                    <li>加到我的关注</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><input type="checkbox" class="trinput" checked></td>
            <td><img src="images/c3.jpg"><span class="cla">
                    【工厂直供 超值疯抢】秋冬时尚潮流简约休闲双肩包女包 通勤出街百搭背包女士包包 18800
                    </span><i>颜色：18800</i>
                </td>
            <td class="align">￥<span>129.00</span></td>
            <td class="align"><button class="jian">-</button><input type="text" value="1" class="inpu">
                <button class="jia">+</button></td>
            <td class="align"><b>￥<span class="zj">129.00</span></b></td>
            <td>
                <ul>
                    <li>删除</li>
                    <li>移到我的关注</li>
                    <li>加到我的关注</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><input type="checkbox" class="trinput" checked></td>
            <td><img src="images/c4.jpg"><span class="cla">
                    【超值疯抢 工厂直供】时尚潮流韩版休闲双肩包女包 学院风通勤百搭背包女 旅行背包 18926
                    </span><i>颜色：18926</i>
                
                </td>
            <td class="align">￥<span>39.00</span></td>
            <td class="align"><button class="jian">-</button><input type="text" value="1" class="inpu">
                <button class="jia">+</button></td>
            <td class="align"><b>￥<span class="zj">39.00</span></b></td>
            <td>
                <ul>
                    <li>删除</li>
                    <li>移到我的关注</li>
                    <li>加到我的关注</li>
                </ul>
            </td>
        </tr>
        <tr align="right" >
            <td colspan="6" style="padding:0;">已选<span class="zhong"></span>件商品 总价:<span style="color:red;font-weight:bold">￥</span><span class="zhongjia"></span><b style="display:inline-block;width:95px;line-height:50px;background:rgb(255, 87, 87);
            color:#fff;text-align:center;font-size:18px">去结算</b></td>
        </tr>
    </table>
    <script>
        var all=document.getElementsByTagName('th')[0];
        var allinput=all.getElementsByTagName('input')[0];
        var trinput=document.getElementsByClassName('trinput');
        
        allinput.onclick=function(){
            for(var n=0;n<trinput.length;n++){
                trinput[n].checked=this.checked;
            }
            shuliang();
            zhongj();
        }
        for(var i=0;i<trinput.length;i++){
            trinput[i].onclick=function(){
                for(var j=0;j<trinput.length;j++){
                    if(trinput[j].checked){
                        allinput.checked=true;
                    }
                    else{allinput.checked=false;break;}
                }
                shuliang();
                zhongj();
            }
        }
        var jia=document.getElementsByClassName('jia');
        var jian=document.getElementsByClassName('jian');
        var inpu=document.getElementsByClassName('inpu');
        var zhong=document.getElementsByClassName('zhong')[0];
        var zhongjia=document.getElementsByClassName('zhongjia')[0];
        var zj=document.getElementsByClassName('zj');
        for(var i=0;i<jia.length;i++){
            jia[i].index=i;
            jia[i].onclick=function(){
                inpu[this.index].value=parseInt(inpu[this.index].value)+1;
                var jiage=jia[this.index].parentNode.nextElementSibling.firstElementChild.firstElementChild;
                var danjia=jia[this.index].parentNode.previousElementSibling.firstElementChild;
                jiage.innerHTML=(inpu[this.index].value*danjia.innerHTML).toFixed(2);
                shuliang();
                zhongj();
            }
        }
        for(var i=0;i<jian.length;i++){
            jian[i].index=i;
            jian[i].onclick=function(){
                if(inpu[this.index].value<=0){
                    inpu[this.index].value=0;
                }else{
                    inpu[this.index].value-=1;
                    var jiage=jia[this.index].parentNode.nextElementSibling.firstElementChild.firstElementChild;
                    var danjia=jia[this.index].parentNode.previousElementSibling.firstElementChild;
                    jiage.innerHTML=(inpu[this.index].value*danjia.innerHTML).toFixed(2);
                    shuliang();
                    zhongj();
                }
            }
        }
        shuliang();
        zhongj();
        function shuliang(){
            zhong.innerHTML=0;
            for(var i=0;i<inpu.length;i++){
                if(trinput[i].checked){
                    zhong.innerHTML=Number(inpu[i].value)+Number(zhong.innerHTML);}
            }
        }
        function zhongj(){
            zhongjia.innerHTML=0;
            for(var i=0;i<zj.length;i++){
                if(trinput[i].checked){
                    zhongjia.innerHTML=(Number(zj[i].innerHTML)+Number(zhongjia.innerHTML)).toFixed(2);}
            }
        }
        
    </script>
</body>
</html>